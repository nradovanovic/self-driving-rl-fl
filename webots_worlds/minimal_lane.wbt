#VRML_SIM R2024b utf8
WorldInfo {
  basicTimeStep 32
  title "Ellipse Lane World"
}
Viewpoint {
  orientation -0.3670727152165835 -0.4080442272922285 -0.8359171791015022 1.7958461671250052
  position 2.988263491424326 18.208612767694284 -26.41158735715703
}
Background {
  skyColor [
    0.15 0.15 0.2
    0.03 0.03 0.05
  ]
}
DirectionalLight {
  direction -0.2 -1 0.4
  color 1 1 1
  intensity 0.8
}
DEF BASE_GROUND Shape {
  appearance PBRAppearance {
    baseColor 0.16 0.17 0.18
    roughness 0.8
    metalness 0
  }
  geometry Box {
    size 40 0.02 40
  }
}
DEF ELLIPTIC_ROAD Shape {
  appearance PBRAppearance {
    baseColor 0.04 0.04 0.045
    roughness 0.5
  }
  geometry IndexedFaceSet {
    coord Coordinate {
      point [
        6.0000 0.0280 0.0000
        5.9487 0.0280 0.3916
        5.7956 0.0280 0.7765
        5.5433 0.0280 1.1481
        5.1962 0.0280 1.5000
        4.7601 0.0280 1.8263
        4.2426 0.0280 2.1213
        3.6526 0.0280 2.3801
        3.0000 0.0280 2.5981
        2.2961 0.0280 2.7716
        1.5529 0.0280 2.8978
        0.7832 0.0280 2.9743
        0.0000 0.0280 3.0000
        -0.7832 0.0280 2.9743
        -1.5529 0.0280 2.8978
        -2.2961 0.0280 2.7716
        -3.0000 0.0280 2.5981
        -3.6526 0.0280 2.3801
        -4.2426 0.0280 2.1213
        -4.7601 0.0280 1.8263
        -5.1962 0.0280 1.5000
        -5.5433 0.0280 1.1481
        -5.7956 0.0280 0.7765
        -5.9487 0.0280 0.3916
        -6.0000 0.0280 0.0000
        -5.9487 0.0280 -0.3916
        -5.7956 0.0280 -0.7765
        -5.5433 0.0280 -1.1481
        -5.1962 0.0280 -1.5000
        -4.7601 0.0280 -1.8263
        -4.2426 0.0280 -2.1213
        -3.6526 0.0280 -2.3801
        -3.0000 0.0280 -2.5981
        -2.2961 0.0280 -2.7716
        -1.5529 0.0280 -2.8978
        -0.7832 0.0280 -2.9743
        -0.0000 0.0280 -3.0000
        0.7832 0.0280 -2.9743
        1.5529 0.0280 -2.8978
        2.2961 0.0280 -2.7716
        3.0000 0.0280 -2.5981
        3.6526 0.0280 -2.3801
        4.2426 0.0280 -2.1213
        4.7601 0.0280 -1.8263
        5.1962 0.0280 -1.5000
        5.5433 0.0280 -1.1481
        5.7956 0.0280 -0.7765
        5.9487 0.0280 -0.3916
        4.5000 0.0280 0.0000
        4.4615 0.0280 0.1958
        4.3467 0.0280 0.3882
        4.1575 0.0280 0.5740
        3.8971 0.0280 0.7500
        3.5701 0.0280 0.9131
        3.1820 0.0280 1.0607
        2.7394 0.0280 1.1900
        2.2500 0.0280 1.2990
        1.7221 0.0280 1.3858
        1.1647 0.0280 1.4489
        0.5874 0.0280 1.4872
        0.0000 0.0280 1.5000
        -0.5874 0.0280 1.4872
        -1.1647 0.0280 1.4489
        -1.7221 0.0280 1.3858
        -2.2500 0.0280 1.2990
        -2.7394 0.0280 1.1900
        -3.1820 0.0280 1.0607
        -3.5701 0.0280 0.9131
        -3.8971 0.0280 0.7500
        -4.1575 0.0280 0.5740
        -4.3467 0.0280 0.3882
        -4.4615 0.0280 0.1958
        -4.5000 0.0280 0.0000
        -4.4615 0.0280 -0.1958
        -4.3467 0.0280 -0.3882
        -4.1575 0.0280 -0.5740
        -3.8971 0.0280 -0.7500
        -3.5701 0.0280 -0.9131
        -3.1820 0.0280 -1.0607
        -2.7394 0.0280 -1.1900
        -2.2500 0.0280 -1.2990
        -1.7221 0.0280 -1.3858
        -1.1647 0.0280 -1.4489
        -0.5874 0.0280 -1.4872
        -0.0000 0.0280 -1.5000
        0.5874 0.0280 -1.4872
        1.1647 0.0280 -1.4489
        1.7221 0.0280 -1.3858
        2.2500 0.0280 -1.2990
        2.7394 0.0280 -1.1900
        3.1820 0.0280 -1.0607
        3.5701 0.0280 -0.9131
        3.8971 0.0280 -0.7500
        4.1575 0.0280 -0.5740
        4.3467 0.0280 -0.3882
        4.4615 0.0280 -0.1958
      ]
    }
    coordIndex [
      0 1 49 48 -1
      1 2 50 49 -1
      2 3 51 50 -1
      3 4 52 51 -1
      4 5 53 52 -1
      5 6 54 53 -1
      6 7 55 54 -1
      7 8 56 55 -1
      8 9 57 56 -1
      9 10 58 57 -1
      10 11 59 58 -1
      11 12 60 59 -1
      12 13 61 60 -1
      13 14 62 61 -1
      14 15 63 62 -1
      15 16 64 63 -1
      16 17 65 64 -1
      17 18 66 65 -1
      18 19 67 66 -1
      19 20 68 67 -1
      20 21 69 68 -1
      21 22 70 69 -1
      22 23 71 70 -1
      23 24 72 71 -1
      24 25 73 72 -1
      25 26 74 73 -1
      26 27 75 74 -1
      27 28 76 75 -1
      28 29 77 76 -1
      29 30 78 77 -1
      30 31 79 78 -1
      31 32 80 79 -1
      32 33 81 80 -1
      33 34 82 81 -1
      34 35 83 82 -1
      35 36 84 83 -1
      36 37 85 84 -1
      37 38 86 85 -1
      38 39 87 86 -1
      39 40 88 87 -1
      40 41 89 88 -1
      41 42 90 89 -1
      42 43 91 90 -1
      43 44 92 91 -1
      44 45 93 92 -1
      45 46 94 93 -1
      46 47 95 94 -1
      47 0 48 95 -1
    ]
  }
}
DEF INNER_LINE Shape {
  appearance Appearance {
    material Material {
      diffuseColor 0.95 0.95 0.95
      emissiveColor 0.4 0.4 0.4
    }
  }
  geometry IndexedLineSet {
    coord Coordinate {
      point [
        4.5000 0.0310 0.0000
        4.4615 0.0310 0.1958
        4.3467 0.0310 0.3882
        4.1575 0.0310 0.5740
        3.8971 0.0310 0.7500
        3.5701 0.0310 0.9131
        3.1820 0.0310 1.0607
        2.7394 0.0310 1.1900
        2.2500 0.0310 1.2990
        1.7221 0.0310 1.3858
        1.1647 0.0310 1.4489
        0.5874 0.0310 1.4872
        0.0000 0.0310 1.5000
        -0.5874 0.0310 1.4872
        -1.1647 0.0310 1.4489
        -1.7221 0.0310 1.3858
        -2.2500 0.0310 1.2990
        -2.7394 0.0310 1.1900
        -3.1820 0.0310 1.0607
        -3.5701 0.0310 0.9131
        -3.8971 0.0310 0.7500
        -4.1575 0.0310 0.5740
        -4.3467 0.0310 0.3882
        -4.4615 0.0310 0.1958
        -4.5000 0.0310 0.0000
        -4.4615 0.0310 -0.1958
        -4.3467 0.0310 -0.3882
        -4.1575 0.0310 -0.5740
        -3.8971 0.0310 -0.7500
        -3.5701 0.0310 -0.9131
        -3.1820 0.0310 -1.0607
        -2.7394 0.0310 -1.1900
        -2.2500 0.0310 -1.2990
        -1.7221 0.0310 -1.3858
        -1.1647 0.0310 -1.4489
        -0.5874 0.0310 -1.4872
        -0.0000 0.0310 -1.5000
        0.5874 0.0310 -1.4872
        1.1647 0.0310 -1.4489
        1.7221 0.0310 -1.3858
        2.2500 0.0310 -1.2990
        2.7394 0.0310 -1.1900
        3.1820 0.0310 -1.0607
        3.5701 0.0310 -0.9131
        3.8971 0.0310 -0.7500
        4.1575 0.0310 -0.5740
        4.3467 0.0310 -0.3882
        4.4615 0.0310 -0.1958
        4.5000 0.0310 -0.0000
      ]
    }
    coordIndex [
      0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 -1
    ]
  }
}
DEF OUTER_LINE Shape {
  appearance Appearance {
    material Material {
      diffuseColor 0.95 0.95 0.95
      emissiveColor 0.4 0.4 0.4
    }
  }
  geometry IndexedLineSet {
    coord Coordinate {
      point [
        6.0000 0.0310 0.0000
        5.9487 0.0310 0.3916
        5.7956 0.0310 0.7765
        5.5433 0.0310 1.1481
        5.1962 0.0310 1.5000
        4.7601 0.0310 1.8263
        4.2426 0.0310 2.1213
        3.6526 0.0310 2.3801
        3.0000 0.0310 2.5981
        2.2961 0.0310 2.7716
        1.5529 0.0310 2.8978
        0.7832 0.0310 2.9743
        0.0000 0.0310 3.0000
        -0.7832 0.0310 2.9743
        -1.5529 0.0310 2.8978
        -2.2961 0.0310 2.7716
        -3.0000 0.0310 2.5981
        -3.6526 0.0310 2.3801
        -4.2426 0.0310 2.1213
        -4.7601 0.0310 1.8263
        -5.1962 0.0310 1.5000
        -5.5433 0.0310 1.1481
        -5.7956 0.0310 0.7765
        -5.9487 0.0310 0.3916
        -6.0000 0.0310 0.0000
        -5.9487 0.0310 -0.3916
        -5.7956 0.0310 -0.7765
        -5.5433 0.0310 -1.1481
        -5.1962 0.0310 -1.5000
        -4.7601 0.0310 -1.8263
        -4.2426 0.0310 -2.1213
        -3.6526 0.0310 -2.3801
        -3.0000 0.0310 -2.5981
        -2.2961 0.0310 -2.7716
        -1.5529 0.0310 -2.8978
        -0.7832 0.0310 -2.9743
        -0.0000 0.0310 -3.0000
        0.7832 0.0310 -2.9743
        1.5529 0.0310 -2.8978
        2.2961 0.0310 -2.7716
        3.0000 0.0310 -2.5981
        3.6526 0.0310 -2.3801
        4.2426 0.0310 -2.1213
        4.7601 0.0310 -1.8263
        5.1962 0.0310 -1.5000
        5.5433 0.0310 -1.1481
        5.7956 0.0310 -0.7765
        5.9487 0.0310 -0.3916
        6.0000 0.0310 -0.0000
      ]
    }
    coordIndex [
      0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 -1
    ]
  }
}
DEF EGO_CAR Robot {
  translation 0 0.0 -2.25
  name "EGO_CAR"
  controller "<extern>"
  supervisor TRUE
  synchronization TRUE
  children [
    Transform {
      translation 0 0.05 0
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.8 0.1 0.1
            roughness 0.3
            metalness 0
          }
          geometry Box {
            size 1.0 0.1 0.4
          }
        }
      ]
    }
    DEF FRONT_DIST DistanceSensor {
      name "front_sensor"
      translation 0.5 0.05 0
      rotation 0 1 0 0
      lookupTable [
        0 0 0
        5 5 0
      ]
    }
    DEF LEFT_DIST DistanceSensor {
      name "left_sensor"
      translation 0 0.05 0.25
      rotation 0 1 0 -1.57
    }
    DEF RIGHT_DIST DistanceSensor {
      name "right_sensor"
      translation 0 0.05 -0.25
      rotation 0 1 0 1.57
    }
    DEF GPS_SENSOR GPS {
      name "gps"
      accuracy 0.01
    }
  ]
  boundingObject Group {
    children [
      Box {
        size 1.0 0.1 0.4
      }
    ]
  }
  physics Physics {
    density -1
    mass 3
  }
}
